# CSRF

CSRF (Cross-Site Request Forgery) is a web application security attack where an
attacker exploits the trust a user has in a website to send unauthorized and
harmful requests on behalf of the user.

## Example of a CSRF Attack

Imagine you are logged into your online banking account at `bank.com`. An
attacker creates an HTML page like the following:

```html
<form action="https://bank.com/transfer" method="POST">
    <input type="hidden" name="amount" value="1000000" />
    <input type="hidden" name="to_account" value="12345678" />
    <input type="submit" />
</form>
```

When you visit this page, your browser automatically sends a request to
`bank.com` using your session cookies. As a result, funds are transferred
without your consent.

## Preventing CSRF Attacks

One common way to mitigate CSRF attacks is by using a CSRF token. A CSRF token
is a unique value generated by the server and associated with a specific user
session. This token must be included in every request that modifies data (e.g.,
POST, PUT, DELETE). If the token does not match, the server rejects the request.

### Example Token Usage in JavaScript

Include the CSRF token in your request headers:

```javascript
'X-CSRF-TOKEN': csrfToken // Send the CSRF token in the request header
```

### Example Implementation in Laravel

In Laravel, you can generate a CSRF token and return it as part of an API
response:

```php
Route::get('/csrf-token', function () {
    return response()->json(['csrf_token' => csrf_token()]);
});
```

To enable CSRF protection, add the following middleware:

```php
\App\Http\Middleware\VerifyCsrfToken::class,
```
